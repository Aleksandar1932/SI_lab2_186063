# Втора лабораториска вежба по Софтверско инженерство
## Александар Ивановски, бр. на индекс 186063
### Група на код: 6

### Control Flow Graph
![Alt text](media/CFG.png?raw=true "Слика од CFG")

### Цикломатска комплексност
Цикломатската комплексност на oвој код е `6` и истата ја добив на следниве начини:
<ul>
<li>CK = P + 1, каде P e бројот на предикатни јазли, a CK e цикломатската комплексност.
CK = 5 + 1 = 6.
</li>
<li>Според бројот на региони во Control Flow Graph-от, а бројот на региони на горенаведената слика на графот е 6.</li>
</ul>

### Тест случаи според Multiple condtition критериумот
Целта на Multiple condition критериумот како што е познато е при секој предикатен јазел да се испита дали се оди во сите негови насоки, односно во точната (on true branch) гранка, и неточната (on false branch).

<hr>

`if (deg >= 0 && deg < 360) `

| Вредност на литерали | Можен тест случај | Гранка во која продолжува |
|----------------------|-------------------|---------------------------|
| TT                   | 300 10 10         | 5                         |
| Fx                   | -50 10 10         | 11                        |

TT - Бидејќи е AND мора двата литерали од изразот да се точни   

Fx - Бидејќи е AND доволно е првиот литерал да не точен за целиот израз да се евалуира како неточен

<hr>
  
`else if (deg == 360)`

| Вредност на литерали | Можен тест случај | Гранка во која продолжува |
|----------------------|-------------------|---------------------------|
| T                    | 360 10 10         | 12                        |
| F                    | 500 10 10         | 15                        |

Т - Има еден литерал па ако е точен изразот се евалуира како точен

F - Ако тој литерал е неточен изразот се евалуира како неточен

<hr>  

`if (min < 0 || min > 59)`

| Вредност на литерали | Можен тест случај | Гранка во која продолжува |
|----------------------|-------------------|---------------------------|
| Tx                   | 300 -10 10        | 10                        |
| FF                   | 300 10 10         | 6                         |

Тх - Бидејќи е OR доволно е првиот литерал да е точен за целиот израз да се евалуира како точен

FF - Бидејќи е OR мора двата изрази да не се точни за да се евалура како неточно

<hr>  

`if (sec < 0 || sec > 59)`

| Вредност на литерали | Можен тест случај | Гранка во која продолжува |
|----------------------|-------------------|---------------------------|
| Tx                   | 300 10 -10        | 9                         |
| FF                   | 300 10 10         | 8                         |

Тх - Бидејќи е OR доволно е првиот литерал да е точен за целиот израз да се евалуира како точен   

FF - Бидејќи е OR мора двата изрази да не се точни за да се евалура како неточно                  

<hr>  

`if (min == 0 && sec == 0)`

| Вредност на литерали | Можен тест случај | Гранка во која продолжува |
|----------------------|-------------------|---------------------------|
| TT                   | 360 00 00         | 14                        |
| Fx                   | 300 10 10         | 13                        | 

TT - Бидејќи е AND мора двата литерали од изразот да се точни                                            
                                                                                                         
Fx - Бидејќи е AND доволно е првиот литерал да не точен за целиот израз да се евалуира како неточен      

<hr>

`for (int i = 0; i < angleList.size(); i++)`

| Вредност на литерали | Можен тест случај    | Гранка во која продолжува |
|----------------------|----------------------|---------------------------|
| angleList.size!=0    | angleList = [angle1] | 3 (*)                     |
| angleList.size==0    | angleList = []       | 17 (**)                   |

Појаснување:

(*) angleList има барем еден елемент и се влегува во for циклусот

(**) angleList нема ниту еден елемент и не се влегува во for циклусот

<hr>

Оваа табела е достапна на овој <a href="https://docs.google.com/spreadsheets/d/1JSaLbAUEXFvBoQ0B5ZFBZ8ujwi4wYpT_bs4DuoHWzY0/edit#gid=0">линк</a>. Во sheet-от `Multiple Condition - тест случаи` .

### Тест случаи според Every branch критериумот критериумот
Целта на Every Branch критериумот како што е познато е да се изминат сите гранки каде што имаме разгранување во кодот, а тоа разгранување во нашите случаи е предизвикано од исходите на логичките проверки (if).
<br>
Со цел да ги изминеме сите гранки треба да дефинираме такви тест случаи.
<br>
Нека секој тест случај претставува елемент од колекцијата (листа) `anglesList`
<br>
Да забележиме дека и самиот for циклус имплицитно претставува разгранување, бидејќи итерации се прават според бројот на елементи во листата `anglesList`, па доколку таа листа е празна нема да се влезе во телото на for циклусот, затоа во нашите тест случаи опфаќаме случај во кој `anglesList` е празна листа. А во сите други тест случаи имаме елементи во листата и for циклусот прави итерации, односно се извршува кодот во неговото тело.
<br>
<br>
Приказ и опис на тест случаите:

| Тест случај    | Тек на програма поради влез од тест случај                                                                                                          | Дескриптивен опис на тек на програма поради влез од тест случај                                                                                              |
|----------------|-----------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 300 -10' -10'' | Исполнет услов во јазел 4 па се продолжува по таа гранка. Но услов во јазел 5 исполнет,па се оди во јазел 10.                                       | Валидни степени, невалидни минути, секундите не се ни проверуваат - агол не валиден.                                                                         |
| 300 20' 20''   | Исполнет услов во јазел 4 па се продолжува по таа гранка. Но неисполнет услов во јазел 5 и се оди во јазел 6, па од јазел 6 во јазел 8.             | Валидни степени, валидни минути, валидни секунди. - агол валиден се претвора во секунди и се додава во резултат.                                             |
| 300 20' -20''  | Исполнет услов во јазел 4 па се продолжува по таа гранка. Но неисполнет услов во јазел 5 и се оди во јазел 6, исполнет во јазел 7 и се оди во него. | Валидни степени, валидни минути, невалидни секунди - агол не валиден                                                                                         |
| 360 00' 00''   | Исполнет услов во јазел 11, па исполнет во јазел 12                                                                                                 | Валидни степени (цел круг), валидни минути, валидни секунди. - агол валиден се претвора во секунди и се додава во резултат.                                  |
| 360 01' 02''   | Исполнет услов во јазел 11, па неисполнет во јазел 12 и се оди во јазел 13                                                                          | Валидни степени (цел круг), не валидни минути и секунди - агол невалиден (поголем од 360 не е агол)                                                          |
| 500 20' 20''   | Не исполнети усовите во јазлите 4 и 11, па се оди во else односно јазел 15                                                                          | Невалидни степени, минути и секунди не се ни проверуваат - агол невалиден.                                                                                   |
| empty arr      | Празна листа со агли, неможе да се влезе во for циклусот, се оди во 17 и се враќа празната листа result                                             | Празна листа со агли како влезен аргумент - не се прави ништо од телото на for циклусот, директно се враќа празната листа иницијализирана во 1 за резултатот |                                                                

*)Оваа табела е достапна исто така на овој <a href="https://docs.google.com/spreadsheets/d/1JSaLbAUEXFvBoQ0B5ZFBZ8ujwi4wYpT_bs4DuoHWzY0/edit#gid=1908243628">линк</a>. Во sheet-от `Еvery Branch - опис на тест случаи`                                                                                                                                                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                                                                                                                                     
Целосна елаборација на оваа постапка на тестирање е достапна на овој <a href="https://docs.google.com/spreadsheets/d/1JSaLbAUEXFvBoQ0B5ZFBZ8ujwi4wYpT_bs4DuoHWzY0/edit#gid=1307556438">линк</a>.  Во sheet-от `Every Branch - елаборација на постапка`  

### Објаснување на напишанте unit test-ови

####Тестирање на случаите во кои имаме валидни агли и се прави нивно претворање во секунди:

| arrayList : List<Angle>                           | result : List<Integer> | Опис                                                                                                                                  |
|---------------------------------------------------|------------------------|---------------------------------------------------------------------------------------------------------------------------------------|
| List.of(new Angle(360, 0, 0), new Angle(0, 0, 0)) | List.of(1296000, 0)    | Валиден агол од 360 00' 00'' треба да се претвори во максималната вредност за секунди 1296000''. Aгол од 0 00' 00'' e валиден и е 0'' |
| List.of()                                         | List.of()              | Празна листа со агли - празна листа со резултати (агли претворени во секунди)                                                         |
| List.of(new Angle(100, 10, 10))                   | List.of(360610)        | Претворање на произволен валиден агол                                                                                                 |



За генерирање на очекуваните резултати ја користиме формулата:
`(deg, min, sec) = (deg*3600 + min*60 + sec) ''`

<b>Заклучок: претворањето на агол од (deg, min, sec) во (sec) е вадлино.</b>

#### Tестирање на случаите во кои имаме невалидни агли (Exceptions)
Невалиден агол може да се добие на следниот начин
Невалидни deg, Произволно min, Прозиволно sec
Валидни deg, Невалидни min, Произволно sec
Валидни deg, Валидни min, Невалидни sec

Па според ова ги имаме следните тест случаи:

| arrayList : List<Angle>         | Еxception | Опис                   |
|---------------------------------|-----------|------------------------|
| List.of(new Angle(300,-10,0))   | thrown    | Фрлен RuntimeException |
| List.of(new Angle(300,10,-10))  | thrown    | Фрлен RuntimeException |
| List.of(new Angle(100, 10, 10)) | thrown    | Фрлен RuntimeException |
| List.of(new Angle(360,10,0))    | thrown    | Фрлен RuntimeException |
| List.of(new Angle(360,0,10))    | thrown    | Фрлен RuntimeException |
| List.of(new Angle(500,0,0))     | thrown    | Фрлен RuntimeException |

*)Оваа табела е достапна исто така на овој <a href="https://docs.google.com/spreadsheets/d/1JSaLbAUEXFvBoQ0B5ZFBZ8ujwi4wYpT_bs4DuoHWzY0/edit#gid=1964676690">линк</a>. Во sheet-от `Unit Tests`                                                                                                                                                                                                                                                                                                                                                                                                    

<b>Заклучок: Беа опфатени сите можни случаи во кои аголот е невалиден и за сите се фрла соодветен исклучок.</b>


